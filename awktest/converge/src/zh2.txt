我们先打开 UA Expert
连接至刚刚配置好的服务器
鼠标右击 Server 点击添加
输入配置好的服务器地址
浏览 kepserver 的测试节点
接下来演示如何在 Rust 中创建 NodeId
第一种方法接收 namespace 和 identifier
第二种方法接收一个 NodeId 字符串
然后看一下读取函数的定义
该函数接收一个原子计数引用
指向由读写锁保护的真正的 Session
第二个参数为 NodeId
首先我们对这个互斥资源上读锁
拿到它内部真正的 Session
然后将 NodeId 转换为 ReadValueId
最后通过真正的 Session 调用读操作 API
注意第一个参数为数组引用
使用匹配处理成功和失败两种结果
这里我们打印读取的值和相应的时间
可以看到读取成功
接下来我们来看看如何同时读取多个值
来到读值函数的定义
不同的是，第二个参数为 NodeId 的向量
这里的Id类型转化使用迭代器来完成
其他部分均保持不变
最后来测试一下
可以看到这两个值被同时读取成功